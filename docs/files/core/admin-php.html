<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>Admin switch - SnowCMS</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Admin_switch"></a>Admin switch</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Admin_switch" >Admin switch</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#admin_prepend" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">admin_prepend</a></td><td class=SDescription>With events there is no switch function which all administrative sections branch off from, and we would rather not require each plugin to have to check and see if the user needs to authenticate themselves again. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#admin_prompt_required" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">admin_prompt_required</a></td><td class=SDescription>Checks to see if the user needs to verify their session with their account password. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#admin_prompt_password" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">admin_prompt_password</a></td><td class=SDescription>Unlike <a href="#admin_prompt_required" class=LFunction id=link4 onMouseOver="ShowTip(event, 'tt2', 'link4')" onMouseOut="HideTip('tt2')">admin_prompt_required</a>, this function actually prompts for the password itself. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#admin_prompt_generate_form" id=link5 onMouseOver="ShowTip(event, 'tt4', 'link5')" onMouseOut="HideTip('tt4')">admin_prompt_generate_form</a></td><td class=SDescription>Generates the form which displays the administrative security prompt.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#admin_prompt_handle" id=link6 onMouseOver="ShowTip(event, 'tt5', 'link6')" onMouseOut="HideTip('tt5')">admin_prompt_handle</a></td><td class=SDescription>Handles the verification of the supplied administrator password.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#admin_access_denied" id=link7 onMouseOver="ShowTip(event, 'tt6', 'link7')" onMouseOut="HideTip('tt6')">admin_access_denied</a></td><td class=SDescription>Shows an error screen denying the member access to the page they requested.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="admin_prepend"></a>admin_prepend</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>function admin_prepend()</td></tr></table></blockquote><p>With events there is no switch function which all administrative sections branch off from, and we would rather not require each plugin to have to check and see if the user needs to authenticate themselves again.&nbsp; So it is done here, via a hook :).</p><h4 class=CHeading>Parameters</h4><p>none</p><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>void</td><td class=CDLDescription>Nothing is returned by this function.</td></tr></table><h4 class=CHeading>Note</h4><p>This function is overloadable.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="admin_prompt_required"></a>admin_prompt_required</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>function admin_prompt_required()</td></tr></table></blockquote><p>Checks to see if the user needs to verify their session with their account password.&nbsp; Useful for AJAX kind of things, ;).</p><h4 class=CHeading>Parameters</h4><p>none</p><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>bool</td><td class=CDLDescription>Returns true if the user needs to supply their password in order to continue, false if not.</td></tr></table><h4 class=CHeading>Note</h4><p>This function is overloadable.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="admin_prompt_password"></a>admin_prompt_password</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function admin_prompt_password(</td><td class=PParameter nowrap>$password</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Unlike <a href="#admin_prompt_required" class=LFunction id=link8 onMouseOver="ShowTip(event, 'tt2', 'link8')" onMouseOut="HideTip('tt2')">admin_prompt_required</a>, this function actually prompts for the password itself.&nbsp; A form is shown where the user can enter their password, or, a parameter can be passed containing their password (plain text, SHA-1&rsquo;d or secured) for use by AJAX means.&nbsp; Hint hint ;)</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>string $password</td><td class=CDLDescription>The users plain text or SHA-1&rsquo;d, if left blank, the form is displayed.</td></tr></table><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>mixed</td><td class=CDLDescription>This function returns nothing if password is null, otherwise it returns a bool, true if the password was correct, false if not.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="admin_prompt_generate_form"></a>admin_prompt_generate_form</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>function admin_prompt_generate_form()</td></tr></table></blockquote><p>Generates the form which displays the administrative security prompt.</p><h4 class=CHeading>Parameters</h4><p>none</p><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>void</td><td class=CDLDescription>Nothing is returned by this function.</td></tr></table><h4 class=CHeading>Note</h4><p>This function is overloadable.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="admin_prompt_handle"></a>admin_prompt_handle</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function admin_prompt_handle(</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>$data,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameterPrefix nowrap>&amp;</td><td class=PParameter nowrap>$errors</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> array()</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Handles the verification of the supplied administrator password.</p><h4 class=CHeading>Parameters</h4><p>array $data array &amp;$errors</p><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>bool</td><td class=CDLDescription>Returns true if the supplied password was correct, false if not.</td></tr></table><h4 class=CHeading>Note</h4><p>This function is overloadable.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="admin_access_denied"></a>admin_access_denied</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function admin_access_denied(</td><td class=PParameter nowrap>$title</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null,</td></tr><tr><td></td><td class=PParameter nowrap>$message</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Shows an error screen denying the member access to the page they requested.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>string $title</td><td class=CDLDescription>The title of the page, defaults to Access denied</td></tr><tr><td class=CDLEntry>string $message</td><td class=CDLDescription>The error message to display, defaults to &ldquo;Sorry, but you are not allowed to access the page you have requested.&rdquo;</td></tr></table><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>void</td><td class=CDLDescription>Nothing is returned by this function.</td></tr></table><h4 class=CHeading>Note</h4><p>This function is overloadable.</p></div></div></div>

</div><!--Content-->


<div id=Footer>Copyright &copy; 2008-2010 SnowCMS Team&nbsp; &middot;&nbsp; <a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>SnowCMS<div class=MSubTitle>Version 2.0</div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">Core</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MFile><a href="activate-php.html">Account activation</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Admin</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="admin/admin_error_log-php.html">Control Panel - Error Log</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_home-php.html">Control Panel - Home</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_members_permissions-php.html">Control Panel - Member - Permissions</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_members_search-php.html">Control Panel - Member - Search</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_members_add-php.html">Control Panel - Members - Add</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_members_manage-php.html">Control Panel - Members - Manage</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_members_settings-php.html">Control Panel - Members - Settings</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_plugins_add-php.html">Control Panel - Plugins - Add</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_plugins_manage-php.html">Control Panel - Plugins - Manage</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_plugins_settings-php.html">Control Panel - Plugins - Settings</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_settings-php.html">Control Panel - Settings</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_update-php.html">Control Panel - System Update</a></div></div><div class=MEntry><div class=MFile><a href="admin/admin_themes-php.html">Control Panel - Themes</a></div></div></div></div></div><div class=MEntry><div class=MFile id=MSelected>Admin switch</div></div><div class=MEntry><div class=MFile><a href="api-class-php.html">API</a></div></div><div class=MEntry><div class=MFile><a href="atom-class-php.html">Atom</a></div></div><div class=MEntry><div class=MFile><a href="clean_request-php.html">Clean Request</a></div></div><div class=MEntry><div class=MFile><a href="compat/json-php.html">compat/<wbr>json.php</a></div></div><div class=MEntry><div class=MFile><a href="compat-php.html">Compatibility functions</a></div></div><div class=MEntry><div class=MFile><a href="core-php.html">Core actions</a></div></div><div class=MEntry><div class=MFile><a href="errors-php.html">Error Handler</a></div></div><div class=MEntry><div class=MFile><a href="form-class-php.html">Form</a></div></div><div class=MEntry><div class=MFile><a href="http-class-php.html">HTTP</a></div></div><div class=MEntry><div class=MFile><a href="l-php.html">Language</a></div></div><div class=MEntry><div class=MFile><a href="mail-class-php.html">Mail</a></div></div><div class=MEntry><div class=MFile><a href="compat/mime_content_type-php.html">mime_content_type</a></div></div><div class=MEntry><div class=MFile><a href="mitigate_globals-php.html">Mitigate Globals</a></div></div><div class=MEntry><div class=MFile><a href="reminder-php.html">Password reminder</a></div></div><div class=MEntry><div class=MFile><a href="php_mail-class-php.html">PHP_Mail</a></div></div><div class=MEntry><div class=MFile><a href="plugin-php.html">Plugin information</a></div></div><div class=MEntry><div class=MFile><a href="profile-php.html">Profile</a></div></div><div class=MEntry><div class=MFile><a href="resend-php.html">Resend activation email</a></div></div><div class=MEntry><div class=MFile><a href="rss-class-php.html">RSS</a></div></div><div class=MEntry><div class=MFile><a href="settings-class-php.html">Settings</a></div></div><div class=MEntry><div class=MFile><a href="smtp-class-php.html">SMTP</a></div></div><div class=MEntry><div class=MFile><a href="table-class-php.html">Table</a></div></div><div class=MEntry><div class=MFile><a href="tar-class-php.html">Tar</a></div></div><div class=MEntry><div class=MFile><a href="tasks-class-php.html">Tasks</a></div></div><div class=MEntry><div class=MFile><a href="theme-class-php.html">Theme</a></div></div><div class=MEntry><div class=MFile><a href="theme-php.html">Theme information</a></div></div><div class=MEntry><div class=MFile><a href="time-php.html">Time functions</a></div></div><div class=MEntry><div class=MFile><a href="tokens-class-php.html">Tokens</a></div></div><div class=MEntry><div class=MFile><a href="update-class-php.html">Update</a></div></div><div class=MEntry><div class=MFile><a href="upload-class-php.html">Upload</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">Members</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="member-class-php.html">Member</a></div></div><div class=MEntry><div class=MFile><a href="members-class-php.html">Members</a></div></div><div class=MEntry><div class=MFile><a href="messages-class-php.html">Messages</a></div></div><div class=MEntry><div class=MFile><a href="login-php.html">Login Handler</a></div></div><div class=MEntry><div class=MFile><a href="logout-php.html">Logout Handler</a></div></div><div class=MEntry><div class=MFile><a href="session-php.html">Session</a></div></div><div class=MEntry><div class=MFile><a href="checkcookie-php.html">Cookies</a></div></div><div class=MEntry><div class=MFile><a href="register-php.html">Registration Handler</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">Database</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MFile><a href="database-class-php.html">Database</a></div></div><div class=MEntry><div class=MFile><a href="database_maintenance-class-php.html">Database Maintenance</a></div></div><div class=MEntry><div class=MFile><a href="database_result-class-php.html">Database Result</a></div></div><div class=MEntry><div class=MFile><a href="database-php.html">Load Database</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="validation-class-php.html">Validation</a></div></div><div class=MEntry><div class=MFile><a href="func-php.html">Variable functions</a></div></div><div class=MEntry><div class=MFile><a href="xml-class-php.html">XML</a></div></div><div class=MEntry><div class=MFile><a href="zip-class-php.html">Zip</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">Plugins</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MFile><a href="../plugins/captcha/plugin-php.html">CAPTCHA plugin</a></div></div><div class=MEntry><div class=MFile><a href="../plugins/captcha/captcha-php.html">Display</a></div></div><div class=MEntry><div class=MFile><a href="../plugins/captcha/install-php.html">Install</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../filters-txt.html">Filters</a></div></div><div class=MEntry><div class=MFile><a href="../hooks-txt.html">Hooks</a></div></div><div class=MEntry><div class=MFile><a href="../plugins/menu_manager/install-php.html">Install</a></div></div><div class=MEntry><div class=MFile><a href="../plugins/menu_manager/plugin-php.html">Menu Manager plugin</a></div></div><div class=MEntry><div class=MFile><a href="../plugins/securelogin/plugin-php.html">Secure login plugin</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent6')">Index</a><div class=MGroupContent id=MGroupContent6><div class=MEntry><div class=MIndex><a href="../../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Variables.html">Variables</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Filters.html">Filters</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Hooks.html">Hooks</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Files.html">Files</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Files">Files</option><option value="Filters">Filters</option><option value="Functions">Functions</option><option value="Hooks">Hooks</option><option value="Variables">Variables</option></select></div><script language=JavaScript><!--
HideAllBut([4], 7);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>function admin_prepend()</td></tr></table></blockquote>With events there is no switch function which all administrative sections branch off from, and we would rather not require each plugin to have to check and see if the user needs to authenticate themselves again. </div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>function admin_prompt_required()</td></tr></table></blockquote>Checks to see if the user needs to verify their session with their account password. </div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function admin_prompt_password(</td><td class=PParameter nowrap>$password</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Unlike admin_prompt_required, this function actually prompts for the password itself. </div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>function admin_prompt_generate_form()</td></tr></table></blockquote>Generates the form which displays the administrative security prompt.</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function admin_prompt_handle(</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>$data,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameterPrefix nowrap>&amp;</td><td class=PParameter nowrap>$errors</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> array()</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Handles the verification of the supplied administrator password.</div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function admin_access_denied(</td><td class=PParameter nowrap>$title</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null,</td></tr><tr><td></td><td class=PParameter nowrap>$message</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Shows an error screen denying the member access to the page they requested.</div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>