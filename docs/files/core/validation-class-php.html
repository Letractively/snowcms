<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>Validation - SnowCMS</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Validation"></a>Validation</h1><div class=CBody><p>Handles the validation of data, such as strings, integers, doubles, and so on and so forth.&nbsp; The Validation class is used by numerous other tools such as the <a href="form-class-php.html#Form" class=LClass id=link7 onMouseOver="ShowTip(event, 'tt6', 'link7')" onMouseOut="HideTip('tt6')">Form</a>, <a href="member-class-php.html#Member" class=LClass id=link8 onMouseOver="ShowTip(event, 'tt7', 'link8')" onMouseOut="HideTip('tt7')">Member</a>, and <a href="settings-class-php.html#Settings" class=LClass id=link9 onMouseOver="ShowTip(event, 'tt8', 'link9')" onMouseOut="HideTip('tt8')">Settings</a> classes, as well as the database layer.&nbsp; Plugins can add on additional types as well, which would then be usable in all other tools which use the Validation class.</p><p>By default, the following types are implemented: bool, int, double, string.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Validation" >Validation</a></td><td class=SDescription>Handles the validation of data, such as strings, integers, doubles, and so on and so forth. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Validation.Variables" >Variables</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#Validation.types" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">types</a></td><td class=SDescription>An array containing the registered types.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Validation.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Validation.__construct" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">__construct</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Validation.add_type" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">add_type</a></td><td class=SDescription>Allows the addition of a validation type.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Validation.types" id=link4 onMouseOver="ShowTip(event, 'tt1', 'link4')" onMouseOut="HideTip('tt1')">types</a></td><td class=SDescription>Returns an array of the currently registered types.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Validation.data" id=link5 onMouseOver="ShowTip(event, 'tt4', 'link5')" onMouseOut="HideTip('tt4')">data</a></td><td class=SDescription>Checks the validity of the supplied data, and</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Validation.init_validation" id=link6 onMouseOver="ShowTip(event, 'tt5', 'link6')" onMouseOut="HideTip('tt5')">init_validation</a></td><td class=SDescription>Instantiates the Validation class for use of validating data.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Validation.Variables"></a>Variables</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="Validation.types"></a>types</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>private $types</td></tr></table></blockquote><p>An array containing the registered types.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Validation.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Validation.__construct"></a>__construct</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public function __construct()</td></tr></table></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Validation.add_type"></a>add_type</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public function add_type(</td><td class=PParameter nowrap>$name,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameter nowrap>$callback,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameter nowrap>$filename</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Allows the addition of a validation type.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>string $name</td><td class=CDLDescription>The name of the type.</td></tr><tr><td class=CDLEntry>string $callback</td><td class=CDLDescription>The function which checks the validity of the data.</td></tr><tr><td class=CDLEntry>string $filename</td><td class=CDLDescription>The location of the callback, if any.</td></tr></table><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>bool</td><td class=CDLDescription>Returns true on success, false on failure.</td></tr></table><h4 class=CHeading>Note</h4><p>The callback is expected to accept the following parameters: &amp;data - The data that needs to be checked of its validity. minimum length - The minimum length of data. maximum length - The maximum length of data. truncate - A bool indicating whether or not data should be truncated or not if it is longer than maximum length.</p><p>Please note that data is a reference parameter!&nbsp; So be not to return the properly type-casted data, as the return value is expected to be something different.&nbsp; Also, if minimum or maximum is null (be sure to use the === operator!) do not check the length which is supplied as null.</p><p>Now, as for the return value, a bool is expected, true meaning the data was fine and successfully type-casted to the proper type, false if the data was invalid, and could not be type-casted.&nbsp; The rest is done by the class ;-).</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Validation.types"></a>types</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public function types()</td></tr></table></blockquote><p>Returns an array of the currently registered types.</p><h4 class=CHeading>Parameters</h4><p>none</p><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>array</td><td class=CDLDescription>Returns an array containing the names of the currently added types.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Validation.data"></a>data</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public function data(</td><td class=PParameterPrefix nowrap>&amp;</td><td class=PParameter nowrap>$data,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>$type,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>$format</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Checks the validity of the supplied data, and</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>mixed &amp;$data</td><td class=CDLDescription>The data which is being validated, this is a reference as the data will be type-casted to the correct type as long as it can be successfully.</td></tr><tr><td class=CDLEntry>string $type</td><td class=CDLDescription>The type of $data, such as string, int, double, or any other type which has been added via <a href="#Validation.add_type" class=LFunction id=link10 onMouseOver="ShowTip(event, 'tt3', 'link10')" onMouseOut="HideTip('tt3')">Validation::add_type</a>.&nbsp; There is a special type called formatted as well, look below at the notes for more information.</td></tr><tr><td class=CDLEntry>mixed $format</td><td class=CDLDescription>Only needed when the supplied type is array.&nbsp; Look below for more information.</td></tr></table><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>bool</td><td class=CDLDescription>Returns true if the data is all valid and of the type supplied, false if not.&nbsp; If false, $data will be set to null, otherwise, the data inside $data will be type-casted to the appropriate type.</td></tr></table><h4 class=CHeading>Note</h4><p>As mentioned previously, there is also a type called formatted, which allows you to pass an array of data, the way the information is validated is through the use of the $format parameter.&nbsp; Here are some examples.</p><p>If you pass an array of integers (or what you want to check), type formatted, and the format supplied is int, it will go through the indices and make sure each value is an integer.&nbsp; This works for any type of course.</p><p>Another way is to supply $format as an associative array, the value of the specified key is the type that the key in the supplied $data should be.&nbsp; Here is an example:</p><p>data(array( &lsquo;member_id&rsquo; =&gt; 1, &lsquo;member_name&rsquo; =&gt; &lsquo;some user&rsquo;, &lsquo;member_email&rsquo; =&gt; &lsquo;<a href="#" onClick="location.href='mai' + 'lto:' + 'm' + 'y' + '@' + 'emai' + 'l.com'; return false;" class=LEMail>m<span style="display: none">.nosp@m.</span>y<span>@</span>emai<span style="display: none">.nosp@m.</span>l.com</a>&rsquo;, ), &lsquo;formatted&rsquo;, array( &lsquo;member_id&rsquo; =&gt; &lsquo;int&rsquo;, &lsquo;member_name&rsquo; =&gt; array(&lsquo;string&rsquo;, 3, 80, false), &lsquo;member_email&rsquo; =&gt; array(&lsquo;string&rsquo;, null, 255, false), ));</p><p>The above shows the data you want validated (the first array), while the last is another array containing all the same indices but of course, with a string or array.&nbsp; You can either just set a string for the type, or pass an array structured as so: array(type, min length, max length, truncate?, callback).&nbsp; The min and max length can differ for, of course, different types, for strings it uses the length, while with numbers, it uses the actual value, so say you said 5 min and 10 max, which would mean that the supplied number can be between 5 and 10 (inclusive, though).&nbsp; As for &ldquo;truncate?&rdquo;, that is a bool, which tells the type if the supplied value is longer than the max length, should the value be truncated instead of being marked as invalid.&nbsp; Callback is pretty straight forward, this callback is called before the type handler has at the value, so you can do any checking yourself, if you want.&nbsp; Of course, this callback should return a value, true if the data was fine, and false if it was not, meaning the value will be null, along with everything else.</p><p>If you set an array with the type of formatted, the second index should contain an array (or just the type itself) which gives information about how to check the validity of the data.</p><p>Please note that if the $data array has less or more indices than the $format array, $data is set to null instantly as it is clearly not valid, but it also, of course, makes sure even if there are the same number of indices, that they are the same.</p><p>Another note, the $data array could have the order of its indices changed, unless that is of course the $data array has the indices in the same order as $format.</p><p>Oh yes!&nbsp; Before I forget!!!&nbsp; If the type is not of formatted, you can still pass a value to the $format parameter, which contains an array as so: array(min length, max length, truncate?, callback)</p><p>This applies to both, you can set min and max length to null, if you so prefer, and those checks will not be, erm, checked.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Validation.init_validation"></a>init_validation</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>function init_validation()</td></tr></table></blockquote><p>Instantiates the Validation class for use of validating data.</p><h4 class=CHeading>Parameters</h4><p>none</p><h4 class=CHeading>Returns</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>void</td><td class=CDLDescription>Nothing is returned by this function.</td></tr></table></div></div></div>

</div><!--Content-->


<div id=Footer>Copyright &copy; 2008-2010 SnowCMS Team&nbsp; &middot;&nbsp; <a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>SnowCMS<div class=MSubTitle>Version 2.0</div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">Core</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MFile><a href="activate-php.html">activate_view</a></div></div><div class=MEntry><div class=MFile><a href="admin-php.html">admin.php</a></div></div><div class=MEntry><div class=MFile><a href="api-class-php.html">API</a></div></div><div class=MEntry><div class=MFile><a href="clean_request-php.html">Clean Request</a></div></div><div class=MEntry><div class=MFile><a href="compat-php.html">Compatibility functions</a></div></div><div class=MEntry><div class=MFile><a href="errors-php.html">Error Handler</a></div></div><div class=MEntry><div class=MFile><a href="form-class-php.html">Form</a></div></div><div class=MEntry><div class=MFile><a href="http-class-php.html">HTTP</a></div></div><div class=MEntry><div class=MFile><a href="core-php.html">init_core</a></div></div><div class=MEntry><div class=MFile><a href="l-php.html">Language</a></div></div><div class=MEntry><div class=MFile><a href="mail-class-php.html">Mail</a></div></div><div class=MEntry><div class=MFile><a href="mitigate_globals-php.html">Mitigate Globals</a></div></div><div class=MEntry><div class=MFile><a href="php_mail-class-php.html">PHP_Mail</a></div></div><div class=MEntry><div class=MFile><a href="resend-php.html">resend.php</a></div></div><div class=MEntry><div class=MFile><a href="settings-class-php.html">Settings</a></div></div><div class=MEntry><div class=MFile><a href="smtp-class-php.html">SMTP</a></div></div><div class=MEntry><div class=MFile><a href="tasks-class-php.html">Tasks</a></div></div><div class=MEntry><div class=MFile><a href="theme-class-php.html">Theme</a></div></div><div class=MEntry><div class=MFile><a href="time-php.html">Time functions</a></div></div><div class=MEntry><div class=MFile><a href="tokens-class-php.html">Tokens</a></div></div><div class=MEntry><div class=MFile><a href="upload-class-php.html">Upload</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Members</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="member-class-php.html">Member</a></div></div><div class=MEntry><div class=MFile><a href="members-class-php.html">Members</a></div></div><div class=MEntry><div class=MFile><a href="messages-class-php.html">Messages</a></div></div><div class=MEntry><div class=MFile><a href="login-php.html">Login Handler</a></div></div><div class=MEntry><div class=MFile><a href="logout-php.html">Logout Handler</a></div></div><div class=MEntry><div class=MFile><a href="session-php.html">Session</a></div></div><div class=MEntry><div class=MFile><a href="checkcookie-php.html">Cookies</a></div></div><div class=MEntry><div class=MFile><a href="register-php.html">Registration Handler</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">Database</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="database-class-php.html">Database</a></div></div><div class=MEntry><div class=MFile><a href="database_maintenance-class-php.html">Database Maintenance</a></div></div><div class=MEntry><div class=MFile><a href="database_result-class-php.html">Database Result</a></div></div><div class=MEntry><div class=MFile><a href="database-php.html">Load Database</a></div></div></div></div></div><div class=MEntry><div class=MFile id=MSelected>Validation</div></div><div class=MEntry><div class=MFile><a href="func-php.html">Variable functions</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">Plugins</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MFile><a href="../plugins/captcha/captcha-php.html">Display</a></div></div><div class=MEntry><div class=MFile><a href="../plugins/captcha/install-php.html">Install</a></div></div><div class=MEntry><div class=MFile><a href="../plugins/captcha/plugin-php.html">Plugin</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../filters-txt.html">Filters</a></div></div><div class=MEntry><div class=MFile><a href="../hooks-txt.html">Hooks</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">Index</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MIndex><a href="../../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Variables.html">Variables</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Filters.html">Filters</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Hooks.html">Hooks</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Files.html">Files</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Files">Files</option><option value="Filters">Filters</option><option value="Functions">Functions</option><option value="Hooks">Hooks</option><option value="Variables">Variables</option></select></div><script language=JavaScript><!--
HideAllBut([3], 6);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>private $types</td></tr></table></blockquote>An array containing the registered types.</div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public function __construct()</td></tr></table></blockquote></div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public function add_type(</td><td class=PParameter nowrap>$name,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameter nowrap>$callback,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameter nowrap>$filename</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Allows the addition of a validation type.</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public function data(</td><td class=PParameterPrefix nowrap>&amp;</td><td class=PParameter nowrap>$data,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>$type,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>$format</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Checks the validity of the supplied data, and</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>function init_validation()</td></tr></table></blockquote>Instantiates the Validation class for use of validating data.</div></div><div class=CToolTip id="tt6"><div class=CClass>This is a very useful tool which aids in the creation, and saving, of form information. </div></div><div class=CToolTip id="tt7"><div class=CClass>The Member class contains all the information about the current member, such as their member ID, name, display name, email, and so on. </div></div><div class=CToolTip id="tt8"><div class=CClass>This class handles the loading and savings of settings for the system.</div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>